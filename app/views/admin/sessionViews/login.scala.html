@import forms.LoginForm

@(loginForm: Form[LoginForm])

@implicitFieldConstructor = @{ b3.horizontal.fieldConstructor("col-md-3", "col-md-9") }

@main("Login") {
        <div class="row">
            <div class="col-md-4 col-md-offset-4">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Login</h3>
                    </div>
                    <div class="panel-body">
                        @if(!flash().isEmpty) {
                            <div class="alert alert-warning alert-dismissable" role="alert">
                                <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                <p>@flash()</p>
                            </div>
                        }
                        @for(error <- loginForm.globalErrors()) {
                            <div class="alert alert-danger alert-dismissable" role="alert">
                                <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span> </button>
                                <p>@error.message()</p>
                            </div>
                        }
                        @if(loginForm.hasGlobalErrors) {

                        }
                        @b3.form(controllers.api.routes.SessionController.authenticate()) {
                            @b3.email( loginForm("email"), '_label -> "Email", 'placeholder -> "Email")
                            @b3.password( loginForm("password"), '_label -> "Password", 'placeholder -> "Password")
                            @b3.submit('class -> "btn btn-success pull-right") { Sign In }
                        }
                    </div>
                </div>
            </div>
        </div>
}